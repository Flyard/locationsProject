import{a as i}from"./axios-bff3f665.js";import{_ as d,o as c,c as p,a as e,b as l,w as r,v as a}from"./index-33ca901a.js";const _="https://locations-project-back.onrender.com/users/login",m={name:"Login",data(){return{username:"",password:"",role:""}},methods:{async login(){await i.post(_,{username:this.username,password:this.password}).then(o=>{if(o.status===200)try{localStorage.setItem("token",o.data.jwt),localStorage.setItem("user",this.username),this.$router.push("/locations")}catch{console.log("failed to store in localStorage")}}).catch(o=>{alert("Wrong credentials")})}}},h={class:"container"},b=e("h1",null,"Login",-1),g=e("label",null,"Username",-1),w=e("br",null,null,-1),f=e("br",null,null,-1),v=e("br",null,null,-1),y=e("label",null,"Password",-1),x=e("br",null,null,-1),k=e("br",null,null,-1),L=e("br",null,null,-1);function V(o,t,B,S,n,u){return c(),p("div",h,[b,e("form",null,[g,l(),w,r(e("input",{class:"input",type:"text",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=s=>n.username=s),required:""},null,512),[[a,n.username]]),f,l(),v,y,l(),x,r(e("input",{class:"input",type:"password","onUpdate:modelValue":t[1]||(t[1]=s=>n.password=s),placeholder:"password",required:""},null,512),[[a,n.password]]),k,l(),L,e("button",{type:"button",class:"button",onClick:t[2]||(t[2]=s=>u.login())},"Login"),e("button",{type:"button",class:"button",onClick:t[3]||(t[3]=s=>o.$router.push("/"))},"Home")])])}const j=d(m,[["render",V]]);export{j as default};
